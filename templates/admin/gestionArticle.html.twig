{% extends 'base.html.twig' %}

{% block body %}
<div class="container">
<h1 class="text-center my-4">Gestion des articles</h1>
<a href="{{ path('admin_article_new')}}" class="btn btn-info m-3">Ajouter un article</a>
{% for message in app.flashes('success') %}
    <div class="alert alert-success text-center">{{message}}</div>
{% endfor %}
<table class="table table-dark">
<thead>
    <tr>
    {% for data in colonnes %}
        <th>{{ data }}</th>
    {% endfor %}
        <th>Category</th>
        <th>Options</th>
    </tr>
</thead>

<tbody>
    <tr>
    {% for article in articles %}
        <tr>
            <td>{{article.id}}</td>
            <td>{{article.title}}</td>
            <td><img src="{{article.image}}" alt="" width="50"></td>
            <td>{{article.content|slice(1, 10)}}</td>
            <td>{{article.createdAt|date("d/m/Y Ã  H:i:s")}}</td>
            <td>{{article.category.title}}</td>
            <td>
            <a href="{{ path( 'admin_edit_article', {id: article.id})}}" class="btn btn-warning"></a>
            <a href="{{ path('admin_article_delete', {id: article.id})}}" class="btn btn-danger"></a>
            </td>
        </tr>
    {% endfor %}
    </tr>
</tbody>
</table>
</div>


{% endblock %}